#!/usr/bin/env perl

use strict 'vars';
use warnings;

my $file = "xrun.log";

open(LOG,"$file") or die "Can't open [$file]: $!\n";

foreach my $line(<LOG>) {
   if($line =~ /UVM_FATAL.*SEED_SELECTOR\: DISCARDED/) {
      print "\n\n-----------------------------------------------------------------------------------------------------\n";
      print "-----------------------------------------------------------------------------------------------------\n";
      print "╔╦╗╦╔═╗╔═╗╔═╗╦═╗╔╦╗╔═╗╔╦╗  ╔╗ ╦ ╦  ╔═╗╔═╗╔═╗╔╦╗  ╔═╗╔═╗╦  ╔═╗╔═╗╔╦╗╔═╗╦═╗\n";
      print " ║║║╚═╗║  ╠═╣╠╦╝ ║║║╣  ║║  ╠╩╗╚╦╝  ╚═╗║╣ ║╣  ║║  ╚═╗║╣ ║  ║╣ ║   ║ ║ ║╠╦╝\n";
      print "═╩╝╩╚═╝╚═╝╩ ╩╩╚══╩╝╚═╝═╩╝  ╚═╝ ╩   ╚═╝╚═╝╚═╝═╩╝  ╚═╝╚═╝╩═╝╚═╝╚═╝ ╩ ╚═╝╩╚═\n";
      print "-----------------------------------------------------------------------------------------------------\n";
      print "-----------------------------------------------------------------------------------------------------\n\n\n";
      exit 7;
   };
};

exit 0;
